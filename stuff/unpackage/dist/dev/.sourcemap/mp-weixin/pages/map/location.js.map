{"version":3,"file":"location.js","sources":["pages/map/location.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFwL2xvY2F0aW9uLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t<map\r\n\t\t\tid=\"map\"\r\n\t\t\tclass=\"map\"\r\n\t\t\t:latitude=\"latitude\"\r\n\t\t\t:longitude=\"longitude\"\r\n\t\t\t:markers=\"markers\"\r\n\t\t\t@tap=\"handleMapTap\"\r\n\t\t\t@markertap=\"handleMarkerTap\"\r\n\t\t\tshow-location\r\n\t\t></map>\r\n\t\t<!-- #endif -->\r\n\t\t\r\n\t\t<!-- #ifdef H5 -->\r\n\t\t<view id=\"container\" class=\"map\"></view>\r\n\t\t<!-- #endif -->\r\n\t\t\r\n\t\t<view class=\"search-box\">\r\n\t\t\t<input \r\n\t\t\t\ttype=\"text\" \r\n\t\t\t\tv-model=\"keyword\"\r\n\t\t\t\tplaceholder=\"搜索地点\"\r\n\t\t\t\t@confirm=\"searchLocation\"\r\n\t\t\t/>\r\n\t\t</view>\r\n\t\t\r\n\t\t<scroll-view \r\n\t\t\tclass=\"poi-list\"\r\n\t\t\tv-if=\"poiList.length > 0\"\r\n\t\t\tscroll-y\r\n\t\t>\r\n\t\t\t<view \r\n\t\t\t\tclass=\"poi-item\"\r\n\t\t\t\tv-for=\"(item, index) in poiList\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t@tap=\"selectLocation(item)\"\r\n\t\t\t>\r\n\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t<text class=\"address\">{{item.address}}</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<button class=\"confirm-btn\" @click=\"confirmLocation\" :disabled=\"!selectedLocation\">\r\n\t\t\t\t确定选择\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nconst amapKey = 'fbed83ec9f299f92682bddbb09eb02e3'\r\nconst amapSecurityJsCode = 'aeda0af4cc0245e3fc9c1ab7dbf63d1e'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlatitude: 39.909,\r\n\t\t\tlongitude: 116.397,\r\n\t\t\tkeyword: '',\r\n\t\t\tpoiList: [],\r\n\t\t\tmarkers: [],\r\n\t\t\tselectedLocation: null,\r\n\t\t\t// #ifdef H5\r\n\t\t\tmap: null,\r\n\t\t\t// #endif\r\n\t\t}\r\n\t},\r\n\t// #ifdef H5\r\n\tasync mounted() {\r\n\t\tawait this.initAMap()\r\n\t},\r\n\t// #endif\r\n\tonLoad() {\r\n\t\t// #ifdef APP-PLUS\r\n\t\tthis.getCurrentLocation()\r\n\t\t// #endif\r\n\t},\r\n\tmethods: {\r\n\t\t// #ifdef H5\r\n\t\tasync initAMap() {\r\n\t\t\ttry {\r\n\t\t\t\t// 动态加载高德地图脚本\r\n\t\t\t\tawait this.loadAMapScript()\r\n\t\t\t\t\r\n\t\t\t\t// 创建地图实例\r\n\t\t\t\tthis.map = new AMap.Map('container', {\r\n\t\t\t\t\tzoom: 15,\r\n\t\t\t\t\tcenter: [this.longitude, this.latitude],\r\n\t\t\t\t\tresizeEnable: true\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 创建地理编码器\r\n\t\t\t\tthis.geocoder = new AMap.Geocoder({\r\n\t\t\t\t\tcity: \"全国\"\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 添加定位控件\r\n\t\t\t\tconst geolocation = new AMap.Geolocation({\r\n\t\t\t\t\tenableHighAccuracy: true,\r\n\t\t\t\t\ttimeout: 10000,\r\n\t\t\t\t\tbuttonPosition: 'RB',\r\n\t\t\t\t\tbuttonOffset: new AMap.Pixel(10, 20),\r\n\t\t\t\t\tzoomToAccuracy: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.map.addControl(geolocation)\r\n\t\t\t\t\r\n\t\t\t\t// 监听点击事件\r\n\t\t\t\tthis.map.on('click', (e) => {\r\n\t\t\t\t\tconst lnglat = e.lnglat\r\n\t\t\t\t\tthis.reverseGeocode(lnglat.getLat(), lnglat.getLng())\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tawait this.getCurrentLocation()\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('初始化地图失败:', error)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '初始化地图失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tloadAMapScript() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tif (window.AMap) {\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 先加载安全配置\r\n\t\t\t\twindow._AMapSecurityConfig = {\r\n\t\t\t\t\tsecurityJsCode: amapSecurityJsCode\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 加载地图主脚本\r\n\t\t\t\tconst mapScript = document.createElement('script')\r\n\t\t\t\tmapScript.type = 'text/javascript'\r\n\t\t\t\tmapScript.async = false\r\n\t\t\t\tmapScript.src = `https://webapi.amap.com/maps?v=2.0&key=${amapKey}&plugin=AMap.Geolocation,AMap.PlaceSearch,AMap.Geocoder`\r\n\t\t\t\t\r\n\t\t\t\tmapScript.onload = () => {\r\n\t\t\t\t\tif (window.AMap) {\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(new Error('AMap is not loaded'))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tmapScript.onerror = () => {\r\n\t\t\t\t\treject(new Error('Failed to load AMap script'))\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdocument.head.appendChild(mapScript)\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tupdateH5Markers(pois) {\r\n\t\t\t// 清除现有标记\r\n\t\t\tif (this.map) {\r\n\t\t\t\tthis.map.clearMap()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 添加新标记\r\n\t\t\tpois.forEach(poi => {\r\n\t\t\t\tconst [lng, lat] = poi.location.split(',')\r\n\t\t\t\tconst marker = new AMap.Marker({\r\n\t\t\t\t\tposition: [lng, lat],\r\n\t\t\t\t\ttitle: poi.name\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 添加信息窗体\r\n\t\t\t\tconst infoWindow = new AMap.InfoWindow({\r\n\t\t\t\t\tcontent: `<div>\r\n\t\t\t\t\t\t<h4 style=\"margin:0;font-size:14px;\">${poi.name}</h4>\r\n\t\t\t\t\t\t<p style=\"margin:5px 0 0;font-size:12px;color:#666;\">${poi.address || ''}</p>\r\n\t\t\t\t\t</div>`,\r\n\t\t\t\t\toffset: new AMap.Pixel(0, -30)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 点击标记时显示信息窗体并选中位置\r\n\t\t\t\tmarker.on('click', () => {\r\n\t\t\t\t\tinfoWindow.open(this.map, marker.getPosition())\r\n\t\t\t\t\tthis.selectLocation(poi)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 如果是选中的位置，直接显示信息窗体\r\n\t\t\t\tif (this.selectedLocation && this.selectedLocation.location === poi.location) {\r\n\t\t\t\t\tinfoWindow.open(this.map, marker.getPosition())\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.map.add(marker)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t// 如果有选中的位置，将地图中心移动到该位置\r\n\t\t\tif (this.selectedLocation) {\r\n\t\t\t\tconst [lng, lat] = this.selectedLocation.location.split(',')\r\n\t\t\t\tthis.map.setCenter([lng, lat])\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\t\r\n\t\tgetCurrentLocation() {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'gcj02',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.latitude = res.latitude\r\n\t\t\t\t\tthis.longitude = res.longitude\r\n\t\t\t\t\tthis.searchNearby()\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取位置失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (this.map) {\r\n\t\t\t\tconst geolocation = new AMap.Geolocation({\r\n\t\t\t\t\tenableHighAccuracy: true,\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.map.addControl(geolocation)\r\n\t\t\t\tgeolocation.getCurrentPosition((status, result) => {\r\n\t\t\t\t\tif (status === 'complete') {\r\n\t\t\t\t\t\tthis.latitude = result.position.lat\r\n\t\t\t\t\t\tthis.longitude = result.position.lng\r\n\t\t\t\t\t\tthis.map.setCenter([this.longitude, this.latitude])\r\n\t\t\t\t\t\tthis.searchNearby()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取位置失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t\r\n\t\tasync searchLocation() {\r\n\t\t\tif (!this.keyword) return\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uni.request({\r\n\t\t\t\t\turl: `https://restapi.amap.com/v3/place/text`,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tkey: amapKey,\r\n\t\t\t\t\t\tkeywords: this.keyword,\r\n\t\t\t\t\t\tlocation: `${this.longitude},${this.latitude}`,\r\n\t\t\t\t\t\toffset: 20,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\textensions: 'all'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.data.status === '1') {\r\n\t\t\t\t\tthis.poiList = res.data.pois\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tthis.updateMarkers(this.poiList)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tthis.updateH5Markers(this.poiList)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '搜索失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync searchNearby() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uni.request({\r\n\t\t\t\t\turl: `https://restapi.amap.com/v3/place/around`,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tkey: amapKey,\r\n\t\t\t\t\t\tlocation: `${this.longitude},${this.latitude}`,\r\n\t\t\t\t\t\tradius: 1000,\r\n\t\t\t\t\t\toffset: 20,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\textensions: 'all'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.data.status === '1') {\r\n\t\t\t\t\tthis.poiList = res.data.pois\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tthis.updateMarkers(this.poiList)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tthis.updateH5Markers(this.poiList)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取周边位置失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// #ifdef APP-PLUS\r\n\t\tupdateMarkers(pois) {\r\n\t\t\tthis.markers = pois.map((poi, index) => {\r\n\t\t\t\tconst [longitude, latitude] = poi.location.split(',')\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tlatitude: Number(latitude),\r\n\t\t\t\t\tlongitude: Number(longitude),\r\n\t\t\t\t\ttitle: poi.name,\r\n\t\t\t\t\twidth: 32,\r\n\t\t\t\t\theight: 32,\r\n\t\t\t\t\tcallout: {\r\n\t\t\t\t\t\tcontent: poi.name,\r\n\t\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t\t\tdisplay: 'ALWAYS'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\thandleMarkerTap(e) {\r\n\t\t\tconst marker = this.markers[e.detail.markerId]\r\n\t\t\tif (marker) {\r\n\t\t\t\tconst poi = this.poiList[e.detail.markerId]\r\n\t\t\t\tif (poi) {\r\n\t\t\t\t\tthis.selectLocation(poi)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\t\r\n\t\tselectLocation(location) {\r\n\t\t\tthis.selectedLocation = location\r\n\t\t\tconst [longitude, latitude] = location.location.split(',')\r\n\t\t\tthis.latitude = Number(latitude)\r\n\t\t\tthis.longitude = Number(longitude)\r\n\t\t\t\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tthis.markers = [{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tlatitude: Number(latitude),\r\n\t\t\t\tlongitude: Number(longitude),\r\n\t\t\t\ttitle: location.name,\r\n\t\t\t\twidth: 32,\r\n\t\t\t\theight: 32,\r\n\t\t\t\tcallout: {\r\n\t\t\t\t\tcontent: location.name,\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t\tdisplay: 'ALWAYS'\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef H5\r\n\t\t\tthis.updateH5Markers([location])\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t\r\n\t\tconfirmLocation() {\r\n\t\t\tif (!this.selectedLocation) return\r\n\t\t\t\r\n\t\t\tconst pages = getCurrentPages()\r\n\t\t\tconst prevPage = pages[pages.length - 2]\r\n\t\t\t\r\n\t\t\t// 更新上一页的位置信息\r\n\t\t\tprevPage.$vm.updateLocation({\r\n\t\t\t\tname: this.selectedLocation.name,\r\n\t\t\t\taddress: this.selectedLocation.address,\r\n\t\t\t\tlocation: this.selectedLocation.location\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tuni.navigateBack()\r\n\t\t},\r\n\t\t\r\n\t\thandleMapTap(e) {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tconst { latitude, longitude } = e.detail\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef H5\r\n\t\t\tconst lnglat = e.lnglat\r\n\t\t\tconst latitude = lnglat.getLat()\r\n\t\t\tconst longitude = lnglat.getLng()\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\tthis.reverseGeocode(latitude, longitude)\r\n\t\t},\r\n\t\t\r\n\t\tasync reverseGeocode(latitude, longitude) {\r\n\t\t\ttry {\r\n\t\t\t\t// 使用高德地图的地理编码器\r\n\t\t\t\tthis.geocoder.getAddress([longitude, latitude], (status, result) => {\r\n\t\t\t\t\tif (status === 'complete' && result.info === 'OK') {\r\n\t\t\t\t\t\tconst addressComponent = result.regeocode.addressComponent\r\n\t\t\t\t\t\tconst poi = {\r\n\t\t\t\t\t\t\tname: result.regeocode.formattedAddress,\r\n\t\t\t\t\t\t\taddress: (addressComponent.district || '') + \r\n\t\t\t\t\t\t\t\t(addressComponent.township || '') + \r\n\t\t\t\t\t\t\t\t(addressComponent.street || '') + \r\n\t\t\t\t\t\t\t\t(addressComponent.streetNumber || ''),\r\n\t\t\t\t\t\t\tlocation: `${longitude},${latitude}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.selectedLocation = poi\r\n\t\t\t\t\t\tthis.poiList = [poi]\r\n\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\tthis.updateMarkers([poi])\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tthis.updateH5Markers([poi])\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取位置信息失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取位置信息失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n\theight: 100vh;\r\n\tposition: relative;\r\n}\r\n\r\n.map {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.search-box {\r\n\tposition: absolute;\r\n\ttop: 20rpx;\r\n\tleft: 20rpx;\r\n\tright: 20rpx;\r\n\tz-index: 1;\r\n}\r\n\r\n.search-box input {\r\n\twidth: 100%;\r\n\theight: 80rpx;\r\n\tbackground: #fff;\r\n\tborder-radius: 40rpx;\r\n\tpadding: 0 30rpx;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.poi-list {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 120rpx;\r\n\tmax-height: 50vh;\r\n\tbackground: #fff;\r\n\tborder-radius: 24rpx 24rpx 0 0;\r\n\tpadding: 20rpx;\r\n}\r\n\r\n.poi-item {\r\n\tpadding: 20rpx;\r\n\tborder-bottom: 1rpx solid #eee;\r\n}\r\n\r\n.poi-item:last-child {\r\n\tborder-bottom: none;\r\n}\r\n\r\n.poi-item .name {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333;\r\n\tmargin-bottom: 6rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.poi-item .address {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.bottom-bar {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 20rpx;\r\n\tpadding: 20rpx;\r\n\tbackground: #fff;\r\n}\r\n\r\n.confirm-btn {\r\n\tbackground: #007AFF;\r\n\tcolor: #fff;\r\n}\r\n\r\n.confirm-btn[disabled] {\r\n\tbackground: #ccc;\r\n}\r\n</style> ","import MiniProgramPage from 'C:/Users/Administrator/Desktop/论文/project/garguateproject/stuff/pages/map/location.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","longitude","latitude"],"mappings":"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"}